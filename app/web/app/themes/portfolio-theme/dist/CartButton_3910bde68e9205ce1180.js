(globalThis.webpackChunkecommerce_theme=globalThis.webpackChunkecommerce_theme||[]).push([[804],{9366:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9307),a=n(6010);const i=e=>{let{children:t,outline:n,onClick:i,href:o,target:s,small:l,className:c,light:u,disabled:d}=e;return(0,r.createElement)("div",{className:(0,a.Z)("wp-block-button",c,{"is-style-outline":n,small:l,disabled:d,"is-style-light":u})},(0,r.createElement)("a",{target:s,href:o,onClick:i?e=>{e.preventDefault(),i(e)}:void 0,className:"wp-block-button__link wp-element-button"},t))}},5596:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r,a,i=n(9307),o=n(6010),s=n(9196),l=n(9366);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u,d,m,f,p=function(e){return s.createElement("svg",c({width:"1em",height:"1em",style:{enableBackground:"new 0 0 24 24"},viewBox:"0 0 24 24",xmlSpace:"preserve",xmlns:"https://www.w3.org/2000/svg"},e),r||(r=s.createElement("style",null,".cross_svg__st0{opacity:.2;fill:none;stroke:#000;stroke-width:5.000000e-02;stroke-miterlimit:10}")),a||(a=s.createElement("path",{d:"M5.3 18.7c.2.2.4.3.7.3s.5-.1.7-.3l5.3-5.3 5.3 5.3c.2.2.5.3.7.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L13.4 12l5.3-5.3c.4-.4.4-1 0-1.4s-1-.4-1.4 0L12 10.6 6.7 5.3c-.4-.4-1-.4-1.4 0s-.4 1 0 1.4l5.3 5.3-5.3 5.3c-.4.4-.4 1 0 1.4z",id:"cross_svg___icons"})))};function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var v=function(e){return s.createElement("svg",h({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"https://www.w3.org/2000/svg"},e),u||(u=s.createElement("rect",{fill:"none"})),d||(d=s.createElement("circle",{cx:80,cy:216,r:16})),m||(m=s.createElement("circle",{cx:184,cy:216,r:16})),f||(f=s.createElement("path",{d:"M42.3 72h179.4l-26.4 92.4a15.9 15.9 0 0 1-15.4 11.6H84.1a15.9 15.9 0 0 1-15.4-11.6L32.5 37.8a8 8 0 0 0-7.7-5.8H8",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:18})))};var g=n(6366);var w=n(7598);const x=()=>{const e=function(e,t={}){let n=(0,s.useCallback)((n=>t.keys?function(e,t,n){let r=new Set([...t,void 0]);return e.listen(((e,t)=>{r.has(t)&&n(e,t)}))}(e,t.keys,n):e.listen(n)),[t.keys,e]),r=e.get.bind(e);return(0,s.useSyncExternalStore)(n,r,r)}(g.u),[t,n]=(0,s.useState)(!1),[r,a]=(0,s.useState)([]),c=(e,t)=>{a(e?e=>[...e,t]:e=>e.filter((e=>e!==t)))},u=(0,s.useRef)(),d=(0,s.useRef)();return(0,s.useEffect)((()=>{const e=e=>{if(u.current&&d.current&&e.target&&!u.current.contains(e.target)){if(d.current.contains(e.target))return;n(!1)}};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)}),[u,d]),(0,i.createElement)(i.Fragment,null,(0,i.createElement)("button",{ref:d,onClick:()=>n((e=>!e)),className:"text-3xl w-12 h-12 outline-none"},(0,i.createElement)(v,null),e.products.length>0?(0,i.createElement)("span",{className:"flex absolute bg-accent text-white right-0 top-0 text-sm rounded-full items-center justify-center w-4 h-4"},e.products.length):null),t?(0,i.createElement)("div",{ref:u,className:"shadow-xl min-w-[280px] bg-light-1 flex flex-col py-3 rounded-xl absolute z-[2] right-[-20px] top-14 text-dark-1"},(0,i.createElement)("div",{className:"absolute right-[35px] top-[-8px] border-solid border-b-light-1 border-b-8 border-x-transparent border-x-8 border-t-0"}),(0,i.createElement)("div",{className:"max-h-72 min-h-20 overflow-auto"},0===e.products.length?(0,i.createElement)("p",{className:"px-4 text-center"},"Dein Warenkorb ist leer"):null,e.products.map(((t,n)=>{const a=n===e.products.length-1,s=(e=>r.includes(e))(n),l=t.variantId?t.variants.find((e=>e.ID===t.variantId)):void 0;return(0,i.createElement)("div",{className:(0,o.Z)("transition flex border-b-[1px] border-light-3 last:border-b-0 bg-light-1 p-4 justify-between items-center",{"z-[3] relative":a,"opacity-30 pointer-events-none":s}),key:n},(0,i.createElement)("div",{className:"flex gap-4"},(0,i.createElement)("div",{className:(0,o.Z)("w-16 h-16","xianURbAY9hhK5W_JwxN")},(0,i.createElement)("img",{src:t.thumbnail,alt:""})),(0,i.createElement)("div",{className:"flex flex-col"},(0,i.createElement)("p",{className:"!m-0 text-sm lg:text-base"},t.title,l?(0,i.createElement)(i.Fragment,null," ","-"," ",(0,i.createElement)("span",{className:"font-bold text-sm"},"(",l.title,")")):null))),(0,i.createElement)("button",{onClick:()=>(async t=>{const n=e.products[t].key,r=e.products[t].ID,a=e.products[t].variantId;if(!n||!r)return;const i=new URL(`${window.location.origin}/?wc-ajax=remove-from-cart-v2`);c(!0,t);const o=await fetch(i,{method:"POST",body:(0,w.Z)({productId:a||r,key:n})}),s=await o.json();g.u.set(s),c(!1,t)})(n),className:"w-8 h-12 min-w-[2rem] text-xl"},(0,i.createElement)(p,null)))}))),(0,i.createElement)("div",{className:(0,o.Z)({_7pI4JGvpgsZ9Hw4HX9D:e.products.length>0},"flex justify-between items-center px-3")},(0,i.createElement)("div",{className:"text-center w-full font-bold",dangerouslySetInnerHTML:{__html:e.total}}),(0,i.createElement)(l.Z,{disabled:0===e.products.length,href:"/kasse",className:"!text-base"},"Zur Kasse"))):null)}},6366:(e,t,n)=>{"use strict";n.d(t,{u:()=>f});window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;null===localStorage.getItem("darkMode")||localStorage.getItem("darkMode"),window.addEventListener("DOMContentLoaded",(()=>{}));var r=n(5466);const a=()=>{var e;const t=[window.origin,`${window.origin}/de`];t.sort(((e,t)=>t.length-e.length));const n=null!==(e=t.find((e=>window.location.href.includes(e))))&&void 0!==e?e:window.origin;window.location=n};document.addEventListener("DOMContentLoaded",(()=>document.querySelector("#home")?.addEventListener("click",a)));var i=n(7182);const o=(e,t,n)=>Math.min(Math.max(e,t),n),s=["loading","success","inactive","restore"];let l=[];var c=n(9334),u=n.n(c),d=n(7598);n(4234),document.addEventListener("DOMContentLoaded",(()=>{Array.from(document.querySelectorAll("[data-variants]")).forEach((e=>{var t;const n=e.closest("[data-product-container]");if(!n)return;const r=JSON.parse(null!==(t=n.dataset.variants)&&void 0!==t?t:"{}"),a=n.querySelector("#add-to-cart"),i=n.querySelector("#price"),o=n.querySelector(".gallery .main-image img:not(.hidden)"),s=n.querySelector(".gallery .thumbnail.first");e.addEventListener("change",(e=>{const t=e.target.value,n=r.find((e=>`${e.ID}`===t));var l;n&&(a&&(a.dataset.variantId=t),i&&(i.innerHTML=`${n.price}`),o&&s&&(Array.from(null!==(l=o.parentElement?.children)&&void 0!==l?l:[]).forEach((e=>e.classList.add("hidden"))),o.src=n.image,o.srcset="",o.classList.remove("hidden"),s.src=n.thumbnail,s.dataset.fullSize=n.image))}))}))})),window.ANIMA_FORMS_BOILERPLATE_COMPONENTS={};const m=n(5412);(0,r.Z)(m),window.addEventListener("DOMContentLoaded",(()=>(0,i.Z)())),window.addEventListener("DOMContentLoaded",(()=>Array.from(document.querySelectorAll(".slider")).forEach((e=>(e=>{var t,n;const r=(null!==(t=e.children[0]?.clientWidth)&&void 0!==t?t:0)+parseInt(null!==(n=getComputedStyle(e).columnGap)&&void 0!==n?n:"0");e.dataset.slide="0",e.dataset.scrollOffset=`${r}`,(e=>{let{el:t,onSwipeLeft:n,onSwipeRight:r}=e;t.addEventListener("touchstart",(e=>{const n=e.changedTouches[0];n&&(t.dataset.touchStartX=`${n.pageX}`,t.dataset.touchStartY=`${n.clientY}`)})),t.addEventListener("touchend",(e=>{var a;const i=e.changedTouches[0];if(!i)return;const o={clientX:parseInt(null!==(a=t.dataset.touchStartX)&&void 0!==a?a:"")};if(Number.isNaN(o.clientX)||!i.clientX)return;const s={x:i.pageX-o.clientX};Math.abs(s.x)<50||(s.x>0?r&&r(e):n&&n(e))}))})({el:e,onSwipeLeft:()=>{var t;const n=parseInt(null!==(t=e.dataset.slide)&&void 0!==t?t:"0")+1,r=o(n,0,e.children.length-1);e.dataset.slide=`${r}`,e.style.transform=`translateX(${-parseInt(e.dataset.slide)*parseInt(e.dataset.scrollOffset)}px)`},onSwipeRight:()=>{var t;const n=parseInt(null!==(t=e.dataset.slide)&&void 0!==t?t:"0")-1,r=o(n,0,e.children.length-1);e.dataset.slide=`${r}`,e.style.transform=`translateX(${-parseInt(e.dataset.slide)*parseInt(e.dataset.scrollOffset)}px)`}})})(e)))));const f=((e,t)=>{let n,r=[],a={lc:0,l:0,value:e,set(e){a.value=e,a.notify()},get:()=>(a.lc||a.listen((()=>{}))(),a.value),notify(e){n=r;let t=!l.length;for(let t=0;t<n.length;t+=2)l.push(n[t],a.value,e,n[t+1]);if(t){for(let e=0;e<l.length;e+=4){let t=!1;for(let n=e+7;n<l.length;n+=4)if(l[n]<l[e+3]){t=!0;break}t?l.push(l[e],l[e+1],l[e+2],l[e+3]):l[e](l[e+1],l[e+2])}l.length=0}},listen:(e,t)=>(r===n&&(r=r.slice()),a.lc=r.push(e,t||a.l)/2,()=>{r===n&&(r=r.slice());let t=r.indexOf(e);~t&&(r.splice(t,2),a.lc--,a.lc||a.off())}),subscribe(e,t){let n=a.listen(e,t);return e(a.value),n},off(){}};return a})(window["ecommerce-theme/frontend"].cart);window.addEventListener("DOMContentLoaded",(()=>Array.from(document.querySelectorAll("#add-to-cart")).forEach((e=>{e.addEventListener("click",(async t=>{t.preventDefault(),t.stopPropagation(),(async e=>{let{button:t,stages:n=s,before:r,action:a,after:i}=e;r&&await r(),n.includes("loading")&&t.classList.add("loading"),await a(),n.includes("loading")&&t.classList.remove("loading"),n.includes("success")&&t.classList.add("success"),n.includes("inactive")&&t.classList.add("inactive"),n.includes("restore")&&setTimeout((()=>{t.classList.remove("inactive"),t.classList.remove("success")}),750),i&&await i()})({button:e,action:async()=>{if(!e.dataset.productId)return;const t=new URL(`${window.location.origin}/?wc-ajax=add-to-cart-v2`),n=await fetch(t,{method:"POST",body:(0,d.Z)({products:[{ID:e.dataset.productId,variantId:e.dataset.variantId,quantity:1}]})}),r=await n.json();f.set(r)}})}))})))),document.addEventListener("DOMContentLoaded",(()=>{Array.from(document.querySelectorAll(".swiper-container")).forEach((e=>{var t;if("mobileOnly"in e.dataset&&window.innerWidth>=800)return;const n=parseInt(e.dataset.slideWidth),r=Math.min(parseInt(e.dataset.containerWidth),window.innerWidth),a=parseInt(null!==(t=e.dataset.margin)&&void 0!==t?t:"0"),i=Math.max(Math.floor(r/n)-1,1);new(u())(e,{slidesPerView:i,spaceBetween:a||(r<400?0:24),centeredSlides:!1}),r<400&&Array.from(e.querySelectorAll(".swiper-slide")).forEach((e=>{e.style.minWidth=(r-80)/i+"px",e.style.maxWidth=(r-80)/i+"px"}))}))})),document.addEventListener("DOMContentLoaded",(()=>Array.from(document.querySelectorAll(".gallery")).forEach((e=>{e.querySelector(".main-image img")&&Array.from(e.querySelectorAll(".thumbnail")).forEach((t=>t.addEventListener("click",(n=>{const r=e.querySelectorAll(".main-image img");r&&r.forEach((e=>e.classList.add("hidden")));const a=e.querySelector(`.main-image img[src="${t.dataset.fullSize}"]`);a&&a.classList.remove("hidden")}))))}))))},4234:()=>{window.addEventListener("scroll",(()=>{const e=document.querySelector("header");e&&(window.scrollY>100?(e.style.boxShadow="",e.style.background=""):(e.style.boxShadow="none",e.style.background="transparent"))}))},7598:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>{const t=new FormData;return Object.keys(e).forEach((n=>t.append(n,encodeURIComponent(JSON.stringify(e[n]))))),t}},6010:(e,t,n)=>{"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}n.d(t,{Z:()=>a});const a=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},9334:function(e){e.exports=function(){"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function t(e,t){void 0===t&&(t=[]),Array.isArray(t)||(t=[t]),t.forEach((function(t){return!e.classList.contains(t)&&e.classList.add(t)}))}function n(e,t,n,r){e.addEventListener(t,n,r)}function r(e,t,n){e.removeEventListener(t,n)}function a(e,t,n){return void 0===n&&(n=""),e.setAttribute(t,n),e}function i(e,t,n){return Object.keys(t).forEach((function(n){e.style[n]=t[n]})),n&&getComputedStyle(e),e}var o={direction:"horizontal",touchRatio:1,touchAngle:45,longSwipesRatio:.5,initialSlide:0,loop:!1,freeMode:!1,passiveListeners:!0,resistance:!0,resistanceRatio:.85,speed:300,longSwipesMs:300,spaceBetween:0,slidesPerView:1,centeredSlides:!1,slidePrevClass:"swiper-slide-prev",slideNextClass:"swiper-slide-next",slideActiveClass:"swiper-slide-active",slideClass:"swiper-slide",wrapperClass:"swiper-wrapper",touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchMoveStopPropagation:!1,excludeElements:[],injections:{translate:function(e,t,n,r){i(t.element.$wrapper,{transition:e.isStart?"none":"transform ease "+r+"ms",transform:n.isHorizontal?"translate3d("+e.transforms+"px, 0, 0)":"translate3d(0, "+e.transforms+"px, 0)"})}}},s="before-init",l="after-init",c="before-slide",u="scroll",d="after-slide",m="before-destroy",f="after-destroy";var p=180/Math.PI;function h(){var t=[];return{getDuration:function(){var e=t[0],n=t[t.length-1];return e?n.time-e.time:0},getOffset:function(){var e=t[0],n=t[t.length-1];return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}},getLogs:function(){return t},vector:function(){return r=(n=t).length-1,a=n[r],n=n[r-1]||a,r={x:a.x-n.x,y:a.y-n.y},a=a.time-n.time,n=r.x/a||0,a=r.y/a||0,e({},r,{angle:Math.atan2(Math.abs(r.y),Math.abs(r.x))*p,velocityX:n,velocityY:a});var n,r,a},clear:function(){t=[]},push:function(n){t.push(e({time:Date.now()},n))}}}function v(){return(performance||Date).now()}var g=requestAnimationFrame||webkitRequestAnimationFrame||setTimeout,w=cancelAnimationFrame||webkitCancelAnimationFrame||clearTimeout;function x(){var e=function(){var e,t;return{run:function(n){e=void 0===e?v():e,t=g((function(){var t=v(),r=t-e;e=t,n(r)}))},stop:function(){e=void 0,w(t)}}}();return{run:function t(n){e.run((function(e){t(n),n(e)}))},stop:function(){e.stop()}}}function y(e,t){e=e.tracker,t=t.initStatus,e.clear(),t()}function b(e,t,n,r){var a=r.initLayout,i=r.initStatus,o=r.render,s=r.scrollPixel,l=r.slideTo,c=r.getOffsetSteps,u=x();return{preheat:function(e,t){var r=n.tracker;u.stop(),r.clear(),r.push(e),a(t),i(t),n.isStart=!0,o()},move:function(t){var r,a=n.tracker,i=e.touchRatio,l=e.touchAngle,c=e.isHorizontal;n.isStart&&!n.isScrolling&&(a.push(t),r=a.vector(),((t=a.getOffset()).x||t.y)&&(c&&r.angle<l||!c&&90-r.angle<l||n.isTouching?(i=r[c?"x":"y"]*i,n.isTouching=!0,s(i),o()):(n.isScrolling=!0,a.clear())))},stop:function(){var a,i,d,m=n.index,f=n.tracker,p=t.measure;n.isStart&&(n.isStart=!1,e.freeMode?(a=f.vector()[e.isHorizontal?"velocityX":"velocityY"],u.run((function(e){e*=a,a*=.98,Math.abs(e)<.01?(u.stop(),y(n,r)):(s(e),o(0))}))):(i=f.getDuration(),d=f.getOffset()[e.isHorizontal?"x":"y"],f=Math.ceil(Math.abs(d)/p.boxSize),p=c(d),i>e.longSwipesMs?l(m+p*(0<d?-1:1)):l(0<d?m-f:m+f),y(n,r)))}}}function S(e,t){var n={};return(n.update=function(e){var r,a=function(e,t,n){var r=e.$list,a=t.viewSize,i=t.slideSize,o=t.boxSize,s=-(t=(e=(s=n).loop?Math.ceil(s.slidesPerView):0)*o)+(n.centeredSlides?(a-i)/2:0);return{max:s,min:n.spaceBetween+(n.loop?i:a)+s-o*r.length,base:s,expand:e,buffer:t,minIndex:0,maxIndex:r.length-(n.centeredSlides||n.loop?1:Math.ceil(n.slidesPerView))}}(e,(r=t,i=(a=e).$el,r={boxSize:(i=((a=r.isHorizontal?i.offsetWidth:i.offsetHeight)-Math.ceil(r.slidesPerView-1)*r.spaceBetween)/r.slidesPerView)+r.spaceBetween,viewSize:a,slideSize:i}),t),i=Boolean("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch);Object.assign(n,{touchable:i,element:e,measure:r,limitation:a})})(e),n}var E="data-shallow-slider",L="data-slider";function k(e,n){function r(){e.element.$wrapper.querySelectorAll("["+E+"]").forEach((function(t){return e.element.$wrapper.removeChild(t)}))}function o(){var t=e.element,r=e.measure,a=t.$wrapper,o={display:"flex",willChange:"transform",flexDirection:n.isHorizontal?"row":"column"},s=((t={})[n.isHorizontal?"width":"height"]=r.slideSize+"px",t[n.isHorizontal?"margin-right":"margin-bottom"]=n.spaceBetween+"px",t);i(a,o),a.querySelectorAll("["+L+"]").forEach((function(e){return i(e,s)}))}return{init:function(){(function(){var t,i,o,s,l,c;e.element.$list.forEach((function(e,t){return a(e,L,t)})),r(),n.loop&&(t=e.element,s=e.limitation,i=t.$list,o=t.$wrapper,s=s.expand,l=i.slice(-s).map((function(e){return e.cloneNode(!0)})),c=i.slice(0,s).map((function(e){return e.cloneNode(!0)})),l.forEach((function(e,t){o.appendChild(a(c[t],E)),o.insertBefore(a(l[t],E),i[0])})))})(),o()},render:function(r,a,i,o){var s=e.element.$wrapper;a=void 0===a?n.speed:a,n.injections.translate(r,e,n,a),r.isStart||function(r){var a=e.element.$wrapper,i=r.index;a.querySelectorAll("["+L+"]").forEach((function(e){var r,a,o=~~e.getAttribute(L);r=e,void 0===(a=[n.slidePrevClass,n.slideNextClass,n.slideActiveClass])&&(a=[]),Array.isArray(a)||(a=[a]),a.forEach((function(e){return r.classList.contains(e)&&r.classList.remove(e)})),o===i&&t(e,n.slideActiveClass),o==i-1&&t(e,n.slidePrevClass),o===i+1&&t(e,n.slideNextClass)}))}(r),o&&getComputedStyle(s).transform,i&&setTimeout(i,a)},destroy:function(){var t=e.element,a=t.$list,i=t.$wrapper,o=n.isHorizontal?"margin-right":"margin-bottom";["display","will-change","flex-direction"].forEach((function(e){i.style.removeProperty(e)})),a.forEach((function(e){return e.style.removeProperty(o)})),r()},updateSize:o}}function M(e,t){var n=e-t.max;return t=e-t.min,0<n?n:t<0?t:0}function O(t,n,r,a,i){function o(e){var n=t.measure;return Math.ceil(Math.abs(e)/n.boxSize-r.longSwipesRatio)}function s(e,t,r){a.render(n,e,t,r)}function l(a){var o,s,l=(s=t.limitation).min,c=s.max;l=(s=c-l+(r.loop?t.measure.boxSize:0))+1,n.transforms=a,r.loop?(o=(c-a)%l/s,n.progress=o<0?1+o:1<o?o-1:o):(o=(c-a)/s,n.progress=o<0?0:1<o?1:o),i.emit(u,e({},n))}function m(e,a){var u,m,f,p,h,v=t.measure,g=t.limitation,w=g.maxIndex-g.minIndex+1,x=r.loop?(e%w+w)%w:e>g.maxIndex?g.maxIndex:e<g.minIndex?g.minIndex:e,y=-x*v.boxSize+g.base;0!==o(y-n.transforms)&&r.loop&&(u=M(n.transforms,g),m=x-n.index,f=n.index,p=x,h=m,e=(w=g).maxIndex,f=(0<h?1:-1)*(w.minIndex-e-1)+p-f,(h=Math.abs(h)>Math.abs(f)?f:h)===m||u?n.index===x&&l(0<u?g.min-v.boxSize+u:g.max+v.boxSize+u):l(h<0?g.min-v.boxSize:g.max+v.boxSize),s(0,void 0,!0)),i.emit(c,n.index,n,x),n.index=x,l(y),s(a,(function(){i.emit(d,x,n)}))}return{update:function(){m(n.index,0),a.updateSize()},render:s,transform:l,slideTo:m,scrollPixel:function(e){var a,i=n.transforms,o=t.measure,s=t.limitation,c=(a=Number(e.toExponential().split("e")[1]))<=0?Math.pow(10,-(a-1)):1,u=i;r.resistance&&!r.loop&&(0<e&&i>=s.max?e-=Math.pow(e*c,r.resistanceRatio)/c:e<0&&i<=s.min&&(e+=Math.pow(-e*c,r.resistanceRatio)/c)),u+=e,r.loop&&(a=n.tracker.vector(),c=r.isHorizontal?a.velocityX:a.velocityY,(e=M(i,s))&&(a=i,i=s,0<c&&a>i.max||c<0&&a<i.min)&&(u=0<e?s.min-o.boxSize+e:s.max+o.boxSize+e)),l(u)},initStatus:function(e){void 0===e&&(e=0),n.startTransform=e,n.isStart=!1,n.isScrolling=!1,n.isTouching=!1},initLayout:function(e){l(e)},getOffsetSteps:o}}function I(e,t){var n="string"==typeof e?document.body.querySelector(e):e;return e=n.querySelector("."+t.wrapperClass),t=[].slice.call(n.getElementsByClassName(t.slideClass)),{$el:n,$wrapper:e,$list:t=t.filter((function(e){return null===e.getAttribute("data-shallow-slider")}))}}function A(t,a){var i=(p=e({},o,p=a),e({},p,{isHorizontal:"horizontal"===p.direction})),c=function(){var e={};return{on:function(t,n){e[t]?e[t].push(n):e[t]=[n]},off:function(t,n){!e[t]||-1<(n=e[t].indexOf(n))&&e[t].splice(n,1)},emit:function(t){for(var n=arguments.length,r=new Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e[t]&&e[t].forEach((function(e){return e.apply(void 0,r)}))},clear:function(){e={}}}}(),u=S(I(t,i),i),d={tracker:h(),index:0,startTransform:0,isStart:!1,isScrolling:!1,isTouching:!1,transforms:0,progress:0},p=(a=c.on,c.off),v=c.emit,g={on:a,off:p,env:u,state:d,options:i};(i.plugins||A.plugins||[]).forEach((function(e){return e(g,i)})),v(s,g);var w=k(u,i),x=O(u,d,i,w,c),y=function(e,t,a,i){var o=e.touchable,s=["INPUT","SELECT","OPTION","TEXTAREA","BUTTON","VIDEO"],l=(i=b(a,e,t,i)).preheat,c=i.move,u=i.stop;function d(e){return{x:(e=o?e.changedTouches[0]:e).pageX,y:e.pageY}}function m(t){for(var n=0;n<a.excludeElements.length;n++)if(a.excludeElements[n].contains(t.target))return;var r,i=e.element.$wrapper,c=a.touchStartPreventDefault&&-1===s.indexOf(t.target.nodeName)||a.touchStartForcePreventDefault;!o&&c&&t.preventDefault(),l(d(t),(r=i,c=a.isHorizontal,i=getComputedStyle(r).transform.replace(/[a-z]|\(|\)|\s/g,"").split(",").map(parseFloat),r=[],16===i.length?r=i.slice(12,14):6===i.length&&(r=i.slice(4,6)),r[c?0:1]||0))}function f(e){a.touchMoveStopPropagation&&e.stopPropagation(),c(d(e)),t.isTouching&&!1!==e.cancelable&&e.preventDefault()}function p(){u()}return{attach:function(){var t=e.element.$el;o?(n(t,"touchstart",m,{passive:a.passiveListeners,capture:!1}),n(t,"touchmove",f),n(t,"touchend",p),n(t,"touchcancel",p)):(n(t,"mousedown",m),n(document,"mousemove",f),n(document,"mouseup",p))},detach:function(){var t=e.element.$el;r(t,"touchstart",m),r(t,"touchmove",f),r(t,"touchend",p),r(t,"touchcancel",p),r(t,"mousedown",m),r(document,"mousemove",f),r(document,"mouseup",p)}}}(u,d,i,x);return d=x.slideTo,Object.assign(g,{update:function(){w.destroy(),u.update(I(t,i)),w.init(),x.update()},destroy:function(){v(m,g),y.detach(),w.destroy(),v(f,g),c.clear()},slideTo:d,updateSize:function(){u.update(I(t,i)),x.update()}}),w.init(),y.attach(),d(i.initialSlide,0),v(l,g),g}return A.use=function(e){A.plugins=e},A}()}}]);